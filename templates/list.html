{% extends "base.html" %} {% block title %}åæ”¯ä¸€è¦§{% endblock %} {% block
content %}
<h1>ğŸ“œ åæ”¯ä¸€è¦§</h1>

<!-- ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒœã‚¿ãƒ³ -->
<div class="btn-group mb-3">
  <a
    href="?sort={{ sort }}&order={{ order }}&type=all"
    class="btn btn-secondary {% if filter_type == 'all' %}active{% endif %}"
    >ã™ã¹ã¦</a
  >
  <a
    href="?sort={{ sort }}&order={{ order }}&type=income"
    class="btn btn-success {% if filter_type == 'income' %}active{% endif %}"
    >ğŸ’° åå…¥ã®ã¿</a
  >
  <a
    href="?sort={{ sort }}&order={{ order }}&type=expense"
    class="btn btn-danger {% if filter_type == 'expense' %}active{% endif %}"
    >ğŸ’¸ æ”¯å‡ºã®ã¿</a
  >
</div>

<!-- åˆè¨ˆè¡¨ç¤º -->
<div class="alert alert-info">
  ğŸ’° åå…¥åˆè¨ˆ: <strong>{{ total_income }}</strong> å†† | ğŸ’¸ æ”¯å‡ºåˆè¨ˆ:
  <strong>{{ total_expense }}</strong> å††
</div>

<!-- ãƒ†ãƒ¼ãƒ–ãƒ« -->
<table class="table table-striped table-bordered">
  <thead class="table-dark">
    <tr>
      <th>
        <a
          href="?sort=date&order={% if sort == 'date' and order == 'asc' %}desc{% else %}asc{% endif %}&type={{ filter_type }}"
          class="text-white"
          >ğŸ“… æ—¥ä»˜</a
        >
      </th>
      <th>ã‚«ãƒ†ã‚´ãƒª</th>
      <th>
        <a
          href="?sort=amount&order={% if sort == 'amount' and order == 'asc' %}desc{% else %}asc{% endif %}&type={{ filter_type }}"
          class="text-white"
          >ğŸ’° é‡‘é¡</a
        >
      </th>
      <th>ç¨®åˆ¥</th>
      <th>æ“ä½œ</th>
    </tr>
  </thead>
  <tbody>
    {% for t in transactions %}
    <tr>
      <td>{{ t.date }}</td>
      <td>{{ t.category }}</td>
      <td>{{ t.amount }}</td>
      <td
        class="{% if t.type == 'income' %}text-success{% else %}text-danger{% endif %}"
      >
        {{ "åå…¥" if t.type == "income" else "æ”¯å‡º" }}
      </td>
      <td>
        <a href="/edit/{{ t.id }}" class="btn btn-warning btn-sm">âœï¸ ç·¨é›†</a>
        <a href="/delete/{{ t.id }}" class="btn btn-danger btn-sm">ğŸ—‘ å‰Šé™¤</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
